<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core">
    <h:form>
        <ui:repeat value="#{activePlants.activeResource}" var="activeResource"
                   varStatus="status">
            <h3 class="plant-card-title">Plant No: #{status.index+3}</h3>
            <div>
                Available resources: #{activePlants.plants.get(status.index).energyResources}
                <br/>
                Input the number of available resources for plant number #{status.index+3}
                <h:inputText value="#{activeResource.availableResources}" />
                <h:commandButton type="submit" value="#{msg.add}"
                                 action="#{activePlants.updatePowerPlantResources(status.index)}"/>
                <h:selectOneMenu value="#{resources.chosenResourceType}">
                    <f:selectItems value="#{resources.defaultResourceTypes}" />
                </h:selectOneMenu>

                <h:commandButton type="submit" value="Power the plant!"
                                 action="#{firePlant.firePlant(activePlants.plants.get(status.index))}"
                                 disabled="#{!activePlants.plants.get(status.index).canPowerCities()}"/>
            </div>
        </ui:repeat>
    </h:form>
</ui:composition>